{"id":"family-panel-1","content_hash":"3dff24d8e0309bb29be17faab5d54bfec731896558b7570ba873dfb2c7b0d7c9","title":"Initialize Next.js project with TypeScript and core dependencies","description":"Set up Next.js 14+ with App Router, TypeScript, ESLint, and Prettier. Install core dependencies: Tailwind CSS, shadcn/ui, date-fns.","design":"Create Next.js app with: \n- TypeScript strict mode\n- App Router structure\n- Tailwind CSS configured\n- shadcn/ui components initialized\n- Basic folder structure: /app, /components, /lib, /services, /types\n- Environment variables template","acceptance_criteria":"- Next.js dev server runs successfully\n- TypeScript compilation works\n- Tailwind CSS is functional\n- shadcn/ui can be imported\n- Basic folder structure exists","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-27T10:40:57.504217-05:00","updated_at":"2025-11-27T10:40:57.504217-05:00","source_repo":"."}
{"id":"family-panel-10","content_hash":"6a2a3296a9c2e95683c090ae259cdd2716356028d414b93585a4f307294922e1","title":"Build payment calculation and reporting system","description":"Create service and UI for calculating total earnings from completed chores over a specified date range.","design":"PaymentService methods:\n- calculateEarnings(kidId, startDate, endDate) - sums completed chore values\n- getEarningsBreakdown(kidId, startDate, endDate) - detailed list\n- markAsPaid(kidId, startDate, endDate, amount) - records payment\n\nParent UI at /admin/payments:\n- Select kid and date range (last 7/14/30 days or custom)\n- Shows completed chores with $ values\n- Total earnings displayed prominently\n- \"Mark as Paid\" button to record payment\n- Payment history log\n\nKid UI shows their current unpaid earnings.","acceptance_criteria":"- Correctly calculates total $ owed for completed chores\n- Parents can view earnings by kid and date range\n- Parents can mark periods as paid\n- Kids can see their current unpaid balance\n- Breakdown shows which chores contributed to total","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-27T10:42:24.219031-05:00","updated_at":"2025-11-27T10:42:24.219031-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-10","depends_on_id":"family-panel-8","type":"blocks","created_at":"2025-11-27T10:42:24.220264-05:00","created_by":"daemon"}]}
{"id":"family-panel-11","content_hash":"be4634f9e73f697a6c27c7d1b74b6b942f6f063e812da2eacbed09fca1eec155","title":"Implement incentive types and configuration system","description":"Allow parents to create and configure incentive types (reading, exercise, etc.) with customizable rewards per kid.","design":"Tables:\n- incentive_types: global incentive definitions (name, unit_name, default_reward_cents, default_reward_minutes)\n- kid_incentive_config: per-kid overrides (kid_id, incentive_type_id, reward_cents_per_unit, reward_minutes_per_unit, target_units_per_day)\n\nIncentiveService:\n- createIncentiveType(name, unit) - parents only\n- configureForKid(kidId, incentiveTypeId, rewards, target) - parents only\n- getKidIncentives(kidId) - returns active incentives with their rewards\n\nExamples:\n- Reading: 10 pages = $1 or 10 minutes screen time\n- Exercise: 15 minutes = $0.50 or 5 minutes screen time\n- Practice instrument: 30 minutes = $2 or 15 minutes screen time\n\nEach kid can have different reward rates and targets.","acceptance_criteria":"- Parents can create incentive types\n- Parents can configure rewards per kid per incentive\n- Different kids can have different reward rates\n- Can specify rewards in $ or screen time minutes (or both)\n- Targets are optional goals, not limits","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-27T10:42:33.847137-05:00","updated_at":"2025-11-27T10:42:33.847137-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-11","depends_on_id":"family-panel-8","type":"blocks","created_at":"2025-11-27T10:42:33.84782-05:00","created_by":"daemon"}]}
{"id":"family-panel-12","content_hash":"366519da891214426296bf7a895dc3689f74433b543c13edefca230b105bced8","title":"Build incentive logging and reward selection UI","description":"Create UI for kids to log their incentive activities and choose between cash or screen time rewards.","design":"Kid dashboard additions:\n- Section showing active incentives with targets\n- Simple input to log units completed (e.g., \"Read 20 pages today\")\n- Calculate reward based on units * rate\n- Present choice: \"Take $2.00 cash\" or \"Add 20 minutes screen time\"\n- Log selection in incentive_logs table with reward_type field\n\nIncentiveLoggingService:\n- logIncentive(kidId, incentiveTypeId, units, rewardType) - kid or parent\n- getIncentiveLogsForDate(kidId, date)\n- getTodaysProgress(kidId) - shows how close to targets\n\nRewards integrate with payment system (cash) or screen time system (minutes).","acceptance_criteria":"- Kids can log incentive activities daily\n- UI shows calculated reward before kid chooses\n- Kids choose cash or screen time per entry\n- Chosen rewards apply to appropriate system\n- Parents can view and edit kid's incentive logs\n- Today's progress shows on kid dashboard","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-27T10:42:44.360709-05:00","updated_at":"2025-11-27T10:42:44.360709-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-12","depends_on_id":"family-panel-11","type":"blocks","created_at":"2025-11-27T10:42:44.362059-05:00","created_by":"daemon"}]}
{"id":"family-panel-13","content_hash":"a888a78a5cb94d1b1b0837d46cb6af03f8eb78a79b572ee86b02bcb4b6be90ab","title":"Implement screen time tracking service and timer logic","description":"Build backend service for tracking screen time sessions with daily limits, bonus minutes, and start/stop functionality.","design":"ScreenTimeService:\n- startSession(kidId) - creates new session, checks available time\n- stopSession(sessionId) - ends session, calculates duration\n- getRemainingTime(kidId) - calculates: daily_limit + bonus_minutes - today's used time\n- addBonusMinutes(kidId, minutes) - called from incentive system\n- getCurrentSession(kidId) - returns active session if any\n- getTodaysSessions(kidId) - history\n\nLogic:\n- Each kid has screen_time_daily_minutes (configurable per kid)\n- Bonus minutes from incentives add to daily allowance\n- Timer counts down from remaining time\n- Daily reset at midnight\n- Can't start if no time remaining (or allow parent override)","acceptance_criteria":"- Can start/stop screen time sessions\n- Correctly calculates remaining time including bonuses\n- Sessions are recorded with timestamps\n- Daily limit is enforced (or parent can override)\n- Time resets at midnight\n- Handles edge cases (session crosses midnight, etc.)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-27T10:43:06.270909-05:00","updated_at":"2025-11-27T10:43:06.270909-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-13","depends_on_id":"family-panel-4","type":"blocks","created_at":"2025-11-27T10:43:06.272338-05:00","created_by":"daemon"}]}
{"id":"family-panel-14","content_hash":"d3c3a55d619f851622b7b4b171a7414e6e2fd982f8fde8316321dd96a7b65fe3","title":"Build screen time timer UI for kids","description":"Create kid-facing screen time countdown timer with large, easy-to-read display and start/stop controls.","design":"Kid dashboard additions:\n- Prominent timer display showing remaining time (HH:MM:SS or MM:SS)\n- Large \"Start Screen Time\" button when no active session\n- Large \"Stop Screen Time\" button during active session\n- Visual countdown animation\n- Show bonus minutes separately (\"120 daily + 20 bonus = 140 total\")\n- Warning when time is running low (\u003c 15 minutes)\n- Notification when time runs out\n\nReal-time countdown using client-side timer synced with server.\nUpdates every second during active session.\nPersist timer state in case of page refresh.","acceptance_criteria":"- Timer displays remaining time clearly\n- Kids can start/stop timer with one tap\n- Countdown updates in real-time\n- Shows daily limit + bonus minutes\n- Visual/audio alert when time runs out\n- Timer state persists across page refreshes\n- Works on touch devices","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-27T10:43:15.38906-05:00","updated_at":"2025-11-27T10:43:15.38906-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-14","depends_on_id":"family-panel-13","type":"blocks","created_at":"2025-11-27T10:43:15.389845-05:00","created_by":"daemon"}]}
{"id":"family-panel-15","content_hash":"ace0238c5df097f07380d8e44834433a0b0a5614c48da7ddafb73ffe7a1e152d","title":"Build parent screen time management UI","description":"Create parent interface for configuring daily limits, viewing usage history, and managing screen time for each kid.","design":"Parent UI at /admin/screen-time:\n- Configure daily minutes limit per kid\n- View current status for all kids (remaining time, active sessions)\n- View usage history (daily totals, session logs)\n- Emergency controls:\n  - Add bonus minutes manually\n  - Pause/extend active session\n  - Reset for the day (parent override)\n- Analytics: average daily usage, trends over time\n\nReal-time updates show when kids start/stop sessions.","acceptance_criteria":"- Parents can set daily limit per kid\n- Parents can view real-time status for all kids\n- Parents can add bonus minutes manually\n- Parents can view usage history and analytics\n- Parents can override limits when needed\n- UI updates in real-time when kids use timers","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-27T10:43:23.650005-05:00","updated_at":"2025-11-27T10:43:23.650005-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-15","depends_on_id":"family-panel-14","type":"blocks","created_at":"2025-11-27T10:43:23.651446-05:00","created_by":"daemon"}]}
{"id":"family-panel-16","content_hash":"a1350ccb6e3553e9e21b7a2cb19b1dc4d84eb744c2e240e48c9ea76191787850","title":"Build app-native calendar with CRUD operations","description":"Create calendar system within the app for family events that can be created, edited, and deleted by parents.","design":"Table: calendar_events\n- id, title, description, start_time, end_time, location, source_type (native/subscribed/work), source_id, visibility (all/parents-only/private), color, created_by\n\nCalendarService:\n- createEvent(eventData) - parents only\n- updateEvent(id, updates) - parents only\n- deleteEvent(id) - parents only\n- getEvents(startDate, endDate, userId) - respects visibility\n- getEventsForDate(date, userId)\n\nVisibility rules:\n- \"all\" = everyone sees it\n- \"parents-only\" = only parents see it\n- Private events show as \"Busy\" to non-owners\n\nAPI routes for full CRUD operations.","acceptance_criteria":"- Parents can create calendar events\n- Parents can edit and delete events they created\n- Events have title, time, location, description\n- Visibility controls work correctly\n- Kids see appropriate events based on visibility\n- Events can be all-day or time-specific","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-27T10:43:38.89664-05:00","updated_at":"2025-11-27T10:43:38.89664-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-16","depends_on_id":"family-panel-4","type":"blocks","created_at":"2025-11-27T10:43:38.89786-05:00","created_by":"daemon"}]}
{"id":"family-panel-17","content_hash":"b54ee92bd4b80696026c1709c7ffabb6c835791012b2d4a00e54a1e5fb5a612f","title":"Build calendar view UI for all users","description":"Create calendar interface showing events in month/week/day views, accessible to both parents and kids with appropriate controls.","design":"Calendar UI at /calendar:\n- Month view (primary), week view, day/agenda view\n- Display all events user has permission to see\n- Color-coded by source/type\n- Click event to see details\n- Parents: \"Add Event\" button → modal/form\n- Parents: Click event → edit/delete options\n- Kids: Read-only view with event details\n- Show chores alongside calendar events (integrated view)\n\nUse a calendar library (e.g., react-big-calendar or FullCalendar) for the UI.\nMobile-responsive views.","acceptance_criteria":"- Calendar displays events in month/week/day views\n- Parents can add events via UI\n- Parents can edit/delete events by clicking\n- Kids see calendar in read-only mode\n- Events respect visibility rules\n- UI is responsive on mobile/tablet\n- Performance is good with 100+ events","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-27T10:43:47.933098-05:00","updated_at":"2025-11-27T10:43:47.933098-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-17","depends_on_id":"family-panel-16","type":"blocks","created_at":"2025-11-27T10:43:47.933862-05:00","created_by":"daemon"}]}
{"id":"family-panel-18","content_hash":"0ee8e9cbd78ed47fdeb9a207c2deac10e985de3c082c49c4ec8f410d1a4e03b6","title":"Implement external calendar subscription (iCal/CalDAV)","description":"Allow parents to subscribe to external calendars via iCal URLs (school, sports, shared family calendars) and sync events automatically.","design":"Table: calendar_subscriptions\n- id, name, ical_url, color, enabled, last_sync, sync_frequency_minutes\n\nCalendarSyncService:\n- addSubscription(name, url, color) - parents only\n- syncSubscription(subscriptionId) - fetches and parses iCal\n- updateSubscription(id, updates)\n- deleteSubscription(id)\n- syncAllSubscriptions() - background job\n\nUse ical.js library to parse iCal feeds.\nBackground job runs every 30 minutes to sync all enabled subscriptions.\nStore synced events in calendar_events with source_type='subscribed'.\n\nHandle updates: compare existing events, update changed ones, delete removed ones.","acceptance_criteria":"- Parents can add iCal subscription URLs\n- Calendar automatically syncs every 30 minutes\n- Synced events appear in calendar view\n- Events are color-coded by subscription\n- Parents can manually trigger sync\n- Parents can enable/disable subscriptions\n- Handle parse errors gracefully","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-27T10:43:57.796636-05:00","updated_at":"2025-11-27T10:43:57.796636-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-18","depends_on_id":"family-panel-17","type":"blocks","created_at":"2025-11-27T10:43:57.798059-05:00","created_by":"daemon"}]}
{"id":"family-panel-19","content_hash":"0fd7fd173444be009f8866f1971e2935363f7da01a897a8b4519c57637941a46","title":"Design and implement work calendar sync agent (Go)","description":"Create standalone desktop application in Go that runs on work machines and syncs Outlook/Google Calendar events to Family Panel API.","design":"Go desktop agent features:\n- Authenticates to Family Panel API with parent credentials\n- Reads local Outlook (Windows) or Calendar.app (Mac) data\n- Configurable filters:\n  - Event title patterns (include/exclude)\n  - Calendar categories\n  - Busy/free only vs. full details\n  - Title anonymization (\"Meeting\" instead of actual title)\n- Runs in system tray, minimal UI\n- Syncs every 15-30 minutes\n- Encrypted local config file\n- Push events to POST /api/calendar/work-sync endpoint\n\nPlatform-specific implementations:\n- Windows: Use Outlook COM API or EWS\n- Mac: Use Calendar.app's SQLite database or EventKit framework\n\nDistribute as single binary per platform.","acceptance_criteria":"- Agent runs on Windows and Mac\n- Authenticates to Family Panel API securely\n- Reads calendar events locally (no cloud access)\n- Filters work correctly\n- Parents can configure sync settings\n- Events appear in Family Panel calendar\n- Runs silently in background\n- Easy installation/setup","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-27T10:44:09.507724-05:00","updated_at":"2025-11-27T10:44:09.507724-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-19","depends_on_id":"family-panel-16","type":"blocks","created_at":"2025-11-27T10:44:09.508822-05:00","created_by":"daemon"}]}
{"id":"family-panel-2","content_hash":"7921c9f5cbf1dd26c3a3084b45b23700b5be5a8f7ae3e8cadba682740333f633","title":"Set up Supabase project and database schema","description":"Create Supabase project, configure PostgreSQL database, and define initial schema for users, roles, and core tables.","design":"Schema tables:\n- users (id, email, name, role: parent/kid, screen_time_daily_minutes)\n- chores (id, name, description, monetary_value_cents)\n- chore_assignments (id, chore_id, user_id, assigned_date, completed, completed_at)\n- incentive_types (id, name, unit, reward_cents_per_unit, reward_minutes_per_unit)\n- incentive_logs (id, user_id, incentive_type_id, date, units_completed, reward_type)\n- screen_time_sessions (id, user_id, date, start_time, end_time, duration_seconds)\n\nEnable Row Level Security policies for role-based access.","acceptance_criteria":"- Supabase project created\n- All tables exist with proper columns and types\n- RLS policies configured (kids can't access admin functions)\n- Connection string available for Next.js","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-27T10:41:07.293269-05:00","updated_at":"2025-11-27T10:41:07.293269-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-2","depends_on_id":"family-panel-1","type":"blocks","created_at":"2025-11-27T10:41:07.294338-05:00","created_by":"daemon"}]}
{"id":"family-panel-20","content_hash":"e190ffd01f9d3511ffbf3c3211dec0555206a4977d93edd03c78ab9a83162b62","title":"Build TV display mode with auto-rotating views","description":"Create display-only interface optimized for wall-mounted TVs that auto-rotates through different information views.","design":"Display mode at /display:\n- Full-screen, read-only interface\n- Auto-rotates every 15 seconds through views:\n  1. Today's date, time, weather\n  2. Today's chores by kid (with completion status)\n  3. Calendar: Today + next 3-7 days\n  4. Screen time remaining per kid\n  5. Upcoming birthdays/special events\n\nDesign considerations:\n- Large, high-contrast fonts readable from 10+ feet\n- Minimal UI chrome\n- Smooth transitions between views\n- Stays awake (prevent screen sleep with keepAwake API)\n- No interaction required (but touch-enabled for optional navigation)\n- Works in kiosk mode on cheap Android device or Raspberry Pi\n\nConfiguration: Parents can choose which views to include and rotation speed.","acceptance_criteria":"- Display mode shows all configured views\n- Auto-rotates at configurable intervals\n- Fonts are large and readable from distance\n- Stays awake continuously\n- Real-time updates (chores completed, etc.)\n- Works on TV browsers and kiosk devices\n- Parents can customize view order and duration","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-27T10:44:20.581413-05:00","updated_at":"2025-11-27T10:44:20.581413-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-20","depends_on_id":"family-panel-17","type":"blocks","created_at":"2025-11-27T10:44:20.582591-05:00","created_by":"daemon"}]}
{"id":"family-panel-21","content_hash":"36b1e792320ae0920a8fb80810a75252fe730e977f42ba89e568f492da8fbddd","title":"Configure PWA for mobile installation and offline support","description":"Set up Progressive Web App capabilities so family members can install the app on their devices like a native app.","design":"PWA requirements:\n- manifest.json with app icons, name, theme colors\n- Service worker for caching static assets\n- Offline fallback page\n- \"Add to Home Screen\" prompt\n- App icons for iOS and Android (various sizes)\n- Splash screens for mobile\n\nNext.js has built-in PWA support via next-pwa package.\n\nOffline strategy:\n- Cache static assets (JS, CSS, fonts)\n- Cache API responses with stale-while-revalidate\n- Show offline indicator when no connection\n- Queue mutations for when back online (optional for MVP)","acceptance_criteria":"- App can be installed on iOS and Android devices\n- App icon appears on home screen\n- Works offline for viewing cached data\n- Service worker caches appropriate assets\n- Manifest is properly configured\n- App feels like a native app when installed","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-27T10:44:29.625033-05:00","updated_at":"2025-11-27T10:44:29.625033-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-21","depends_on_id":"family-panel-8","type":"blocks","created_at":"2025-11-27T10:44:29.625811-05:00","created_by":"daemon"}]}
{"id":"family-panel-22","content_hash":"485678b414edf62d5d0971387e63b437c79ca3787ea238c2711e791b20bc8b29","title":"Set up Vercel deployment with CI/CD","description":"Configure cloud hosting on Vercel with automatic deployments from Git, environment variables, and production settings.","design":"Vercel setup:\n- Connect GitHub repository\n- Configure environment variables (Supabase keys, etc.)\n- Set up preview deployments for branches\n- Production deployment on main branch\n- Custom domain (optional)\n- Configure build settings for Next.js\n\nEnvironment management:\n- .env.local for development\n- .env.example template in repo\n- Vercel environment variables for staging/production\n\nCI/CD:\n- Auto-deploy on push to main\n- Preview deployments for PRs\n- Run tests before deploy (when tests exist)","acceptance_criteria":"- App is deployed to Vercel\n- Production URL is accessible\n- Environment variables are configured\n- Auto-deployment works on push\n- Preview deployments work for branches\n- SSL/HTTPS is enabled","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-27T10:44:38.30238-05:00","updated_at":"2025-11-27T10:44:38.30238-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-22","depends_on_id":"family-panel-1","type":"blocks","created_at":"2025-11-27T10:44:38.303623-05:00","created_by":"daemon"}]}
{"id":"family-panel-23","content_hash":"c0d60bfef1feea37dad6bad42480f2c6baea4b2e45ab8220bd981f1ac4f2a7b4","title":"Set up testing infrastructure (unit and integration)","description":"Configure Jest, React Testing Library, and test utilities for testing services, components, and API endpoints.","design":"Testing setup:\n- Jest for test runner\n- React Testing Library for component tests\n- MSW (Mock Service Worker) for API mocking\n- Test database setup (Supabase local or test instance)\n\nFocus areas:\n- Service layer unit tests (business logic)\n- Repository layer unit tests (data access with mocked DB)\n- API route integration tests\n- Critical user flow component tests\n\nCreate example tests demonstrating patterns:\n- ChoreService.assignChore() test\n- ScreenTimeService.calculateRemaining() test\n- API route authorization test\n- Kid dashboard component test\n\nTest command: npm test\nCI integration for running tests on PR.","acceptance_criteria":"- Jest is configured and running\n- Example unit tests exist for services\n- Example integration tests exist for API routes\n- Test coverage reporting works\n- npm test command runs all tests\n- Tests can run in CI/CD pipeline\n- Documentation on writing new tests","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-27T10:44:47.427326-05:00","updated_at":"2025-11-27T10:44:47.427326-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-23","depends_on_id":"family-panel-4","type":"blocks","created_at":"2025-11-27T10:44:47.428345-05:00","created_by":"daemon"}]}
{"id":"family-panel-3","content_hash":"0af9b35f361dd0b0087c42116053d065ea743dbdbb47037c90c5f0c729a68a32","title":"Implement authentication with parent and kid roles","description":"Set up Supabase Auth in Next.js with role-based access control. Parents use email/password, kids can use simplified PIN-based login.","design":"- Configure Supabase Auth client\n- Create auth context/provider\n- Login page with role detection\n- Protected routes via middleware\n- Session management\n- Kid login can be simplified (4-digit PIN stored as metadata)","acceptance_criteria":"- Parents can login with email/password\n- Kids can login with simplified method\n- User role is accessible throughout app\n- Protected routes redirect unauthenticated users\n- Session persists across page refreshes","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-27T10:41:14.441672-05:00","updated_at":"2025-11-27T10:41:14.441672-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-3","depends_on_id":"family-panel-2","type":"blocks","created_at":"2025-11-27T10:41:14.442315-05:00","created_by":"daemon"}]}
{"id":"family-panel-4","content_hash":"f4cbfe9dd0df377ed3c52de6951ccf3cf9df444eba73fa00c6a490fdeb56d396","title":"Create service and repository layer architecture","description":"Establish clean architecture with service layer (business logic) and repository layer (data access) to enable future refactoring and modularity.","design":"Structure:\n- /lib/services/ - Business logic services (ChoreService, UserService, etc.)\n- /lib/repositories/ - Data access layer (abstracts Supabase calls)\n- /lib/api/ - API client wrapper for frontend\n- /types/ - Shared TypeScript types and domain models\n\nPattern: API Route → Service → Repository → Database\n\nThis enables extracting services to Go microservices later without touching routes or frontend.","acceptance_criteria":"- Folder structure exists\n- Example service class with business logic\n- Example repository class with data access\n- API client wrapper for frontend\n- Documentation on how to use each layer","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-27T10:41:23.272281-05:00","updated_at":"2025-11-27T10:41:23.272281-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-4","depends_on_id":"family-panel-3","type":"blocks","created_at":"2025-11-27T10:41:23.273556-05:00","created_by":"daemon"}]}
{"id":"family-panel-5","content_hash":"c15d18edaf285330eaea8c03f2159f273239d5f6df4421ded099d51c86d98908","title":"Build chore management service and API endpoints","description":"Create ChoreService with business logic for creating, reading, updating, and deleting chores. Implement API routes with proper authorization.","design":"ChoreService methods:\n- createChore(name, description, monetaryValue) - parents only\n- getChores() - all users\n- updateChore(id, updates) - parents only\n- deleteChore(id) - parents only\n\nAPI routes:\n- POST /api/chores - create\n- GET /api/chores - list all\n- PATCH /api/chores/[id] - update\n- DELETE /api/chores/[id] - delete\n\nValidate user role before allowing write operations.","acceptance_criteria":"- All CRUD operations work via API\n- Parents can create/edit/delete chores\n- Kids can view chores but not modify\n- Monetary values stored as cents (integers)\n- API returns proper error codes for unauthorized access","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-27T10:41:35.983636-05:00","updated_at":"2025-11-27T10:41:35.983636-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-5","depends_on_id":"family-panel-4","type":"blocks","created_at":"2025-11-27T10:41:35.985234-05:00","created_by":"daemon"}]}
{"id":"family-panel-6","content_hash":"60fcb39aee44271717bf71b2787942afc4449e129466805d9b38ec432d2665f6","title":"Implement chore assignment and completion system","description":"Create functionality for parents to assign chores to kids on specific dates, and for kids to mark chores as complete.","design":"ChoreAssignmentService methods:\n- assignChore(choreId, kidId, date) - parents only\n- getAssignmentsForDate(date, kidId?) - all users\n- completeChore(assignmentId) - assigned kid or parents\n- uncompleteChore(assignmentId) - parents only\n\nAPI routes:\n- POST /api/chore-assignments - assign\n- GET /api/chore-assignments?date=YYYY-MM-DD\u0026kidId=X - list\n- PATCH /api/chore-assignments/[id]/complete - mark complete\n- PATCH /api/chore-assignments/[id]/uncomplete - unmark\n\nStore completion timestamp for payment tracking.","acceptance_criteria":"- Parents can assign any chore to any kid on any date\n- Kids can view their assigned chores\n- Kids can mark their own chores complete\n- Completion timestamp is recorded\n- Can query assignments by date and/or kid\n- Real-time updates via Supabase subscriptions","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-27T10:41:44.144993-05:00","updated_at":"2025-11-27T10:41:44.144993-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-6","depends_on_id":"family-panel-5","type":"blocks","created_at":"2025-11-27T10:41:44.145695-05:00","created_by":"daemon"}]}
{"id":"family-panel-7","content_hash":"b105188b4fc92fca06dc1c9d2fe5d4629ff959c7f6e138bfadd844a534007fdd","title":"Build parent admin UI for chore management","description":"Create parent-facing UI for creating/editing chores and assigning them to kids on specific dates.","design":"Parent dashboard pages:\n- /admin/chores - List all chores with create/edit/delete actions\n- /admin/chores/new - Form to create new chore\n- /admin/chores/[id]/edit - Edit existing chore\n- /admin/assignments - Calendar/weekly view to assign chores\n  - Select kid, date, and chore from dropdowns\n  - See what's already assigned\n\nUse shadcn/ui components for forms, tables, and buttons.","acceptance_criteria":"- Parents can create new chores with name, description, and $ value\n- Parents can edit and delete existing chores\n- Parents can assign chores to kids for specific dates\n- UI is responsive and works on mobile/tablet\n- Form validation provides helpful feedback","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-27T10:41:52.550774-05:00","updated_at":"2025-11-27T10:41:52.550774-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-7","depends_on_id":"family-panel-6","type":"blocks","created_at":"2025-11-27T10:41:52.552041-05:00","created_by":"daemon"}]}
{"id":"family-panel-8","content_hash":"8208f4397a4930c3e7d9854050f8f1ca980a85de7e6a41c910c69263802be8b0","title":"Build kid dashboard with daily chore view","description":"Create kid-facing dashboard showing today's assigned chores with ability to mark them complete.","design":"Kid dashboard at /dashboard:\n- Shows kid's name and current date\n- List of today's assigned chores\n- Each chore shows: name, description, $ value, completion status\n- Large, touch-friendly \"Mark Complete\" button\n- Visual feedback when marked complete (checkmark, animation)\n- Auto-refresh via Supabase real-time subscriptions\n- Simple, colorful UI appropriate for kids\n\nResponsive design works on tablets and phones.","acceptance_criteria":"- Kids see their assigned chores for today\n- Kids can mark chores complete with one tap\n- Completed chores show visual confirmation\n- Updates appear in real-time across devices\n- UI is kid-friendly and intuitive\n- Works well on touch devices","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-27T10:41:59.936551-05:00","updated_at":"2025-11-27T10:41:59.936551-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-8","depends_on_id":"family-panel-6","type":"blocks","created_at":"2025-11-27T10:41:59.937565-05:00","created_by":"daemon"}]}
{"id":"family-panel-9","content_hash":"9f7e7b379b533cf86b99506e35b1d511014263b8ef92f60d1bd7ba78075b401c","title":"Implement recurring chore assignment system","description":"Allow parents to create recurring chore assignments (daily, weekly, custom schedule) that auto-generate assignments.","design":"New table: chore_recurrence_rules\n- chore_id, kid_id, frequency (daily/weekly/custom), days_of_week, start_date, end_date\n\nChoreRecurrenceService:\n- createRule(choreId, kidId, frequency, days) - parents only\n- generateAssignments(date) - background job\n- updateRule(id, updates) - parents only\n- deleteRule(id) - parents only\n\nBackground job runs daily at midnight to generate next day's assignments based on active rules.\n\nParents can still create ad-hoc assignments that override or supplement recurring ones.","acceptance_criteria":"- Parents can create weekly recurring patterns (e.g., \"Kid A does dishes Mon/Wed/Fri\")\n- Assignments auto-generate daily based on rules\n- Parents can edit/delete recurring rules\n- Ad-hoc assignments still work\n- UI shows which assignments are from recurring rules\n- Can temporarily skip a recurring assignment","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-27T10:42:09.581481-05:00","updated_at":"2025-11-27T10:42:09.581481-05:00","source_repo":".","dependencies":[{"issue_id":"family-panel-9","depends_on_id":"family-panel-7","type":"blocks","created_at":"2025-11-27T10:42:09.582623-05:00","created_by":"daemon"}]}
